{"version":3,"file":"js/app.4079f5ad.js","mappings":"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","sources":["webpack://whfd-mapping/./src/components/map/CursorCoordinates.vue","webpack://whfd-mapping/./src/components/map/CursorCoordinates.vue?5136","webpack://whfd-mapping/./src/store/settings.js","webpack://whfd-mapping/./src/store/baseMaps.js","webpack://whfd-mapping/./src/components/left-panel/settings-panel/BaseMapSettings.vue","webpack://whfd-mapping/./src/components/left-panel/settings-panel/BaseMapSettings.vue?3a44","webpack://whfd-mapping/./src/store/measurements.js","webpack://whfd-mapping/./src/store/legend.js","webpack://whfd-mapping/./src/components/left-panel/settings-panel/CircleStylingSettings.vue","webpack://whfd-mapping/./src/components/left-panel/settings-panel/CircleStylingSettings.vue?200f","webpack://whfd-mapping/./src/components/left-panel/settings-panel/SettingsPanel.vue","webpack://whfd-mapping/./src/components/left-panel/settings-panel/SettingsPanel.vue?8c37","webpack://whfd-mapping/./src/store/filter.js","webpack://whfd-mapping/./src/components/left-panel/filter-panel/FilterElement.vue","webpack://whfd-mapping/./src/components/left-panel/filter-panel/FilterElement.vue?8f65","webpack://whfd-mapping/./src/store/mapControls.js","webpack://whfd-mapping/./src/components/left-panel/filter-panel/FilterByLocation.vue","webpack://whfd-mapping/./src/components/left-panel/filter-panel/FilterByLocation.vue?8d54","webpack://whfd-mapping/./src/components/left-panel/filter-panel/DownloadData.vue","webpack://whfd-mapping/./src/components/left-panel/filter-panel/DownloadData.vue?5ec2","webpack://whfd-mapping/./src/components/left-panel/filter-panel/FilterPanal.vue","webpack://whfd-mapping/./src/components/left-panel/filter-panel/FilterPanal.vue?14fc","webpack://whfd-mapping/./src/components/left-panel/statistics-panel/StatisticsPanal.vue","webpack://whfd-mapping/./src/components/left-panel/statistics-panel/StatisticsPanal.vue?355c","webpack://whfd-mapping/./src/components/left-panel/analysis-panel/AnalysisPanal.vue","webpack://whfd-mapping/./src/components/left-panel/analysis-panel/AnalysisPanal.vue?1070","webpack://whfd-mapping/./src/components/left-panel/LeftPanel.vue","webpack://whfd-mapping/./src/components/left-panel/LeftPanel.vue?056f","webpack://whfd-mapping/./src/components/map/InfoPopup.vue","webpack://whfd-mapping/./src/components/map/InfoPopup.vue?9bc4","webpack://whfd-mapping/./src/components/map/MapLegend.vue","webpack://whfd-mapping/./src/components/map/MapLegend.vue?56dd","webpack://whfd-mapping/./src/components/MapApp.vue","webpack://whfd-mapping/./src/components/MapApp.vue?8b5d","webpack://whfd-mapping/./src/App.vue","webpack://whfd-mapping/./src/main.js","webpack://whfd-mapping/webpack/bootstrap","webpack://whfd-mapping/webpack/runtime/amd define","webpack://whfd-mapping/webpack/runtime/amd options","webpack://whfd-mapping/webpack/runtime/chunk loaded","webpack://whfd-mapping/webpack/runtime/compat get default export","webpack://whfd-mapping/webpack/runtime/define property getters","webpack://whfd-mapping/webpack/runtime/global","webpack://whfd-mapping/webpack/runtime/harmony module decorator","webpack://whfd-mapping/webpack/runtime/hasOwnProperty shorthand","webpack://whfd-mapping/webpack/runtime/make namespace object","webpack://whfd-mapping/webpack/runtime/node module decorator","webpack://whfd-mapping/webpack/runtime/publicPath","webpack://whfd-mapping/webpack/runtime/jsonp chunk loading","webpack://whfd-mapping/webpack/startup"],"sourcesContent":["<!-- Show coordinates of cursor position on map -->\n<script setup>\nimport { ref } from \"vue\";\nimport { defineProps } from \"vue\";\nimport { watch } from \"vue\";\nimport { Map } from \"maplibre-gl\";\n\nconst props = defineProps({ map: Map });\nconst map = ref(props.map);\n\nconst lat = ref();\nconst lng = ref();\n\nwatch(props, (newProps) => {\n  map.value = newProps.map;\n\n  map.value.on(\"mousemove\", function (e) {\n    lat.value = e.lngLat.wrap().lat.toFixed(5);\n    lng.value = e.lngLat.wrap().lng.toFixed(5);\n  });\n});\n</script>\n\n<template>\n  <div class=\"cursor-coordinates\">Lat: {{ lat }}, Lon: {{ lng }}</div>\n</template>\n\n<style scoped>\n.cursor-coordinates {\n  display: block;\n  position: relative;\n  margin: 0px auto;\n  width: fit-content;\n  padding: 10px;\n  border: none;\n  border-radius: 3px;\n  font-size: 10px;\n  text-align: left;\n  color: black;\n  background: rgba(255, 255, 255, 0.5);\n  z-index: 100;\n}\n</style>\n","import script from \"./CursorCoordinates.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CursorCoordinates.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CursorCoordinates.vue?vue&type=style&index=0&id=51ba85a2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-51ba85a2\"]])\n\nexport default __exports__","import { defineStore } from \"pinia\";\nimport { ref } from \"vue\";\n\nexport const useSettingsStore = defineStore(\"settings\", () => {\n  /**\n   * ref()s become state properties\n   * computed()s become getters\n   * function()s become actions\n   */\n\n  const activeBaseLayer = ref(\"\");\n  const circleRadius = ref(4);\n  const circleColor = ref(\"#41b6c4\");\n\n  return { activeBaseLayer, circleRadius, circleColor };\n});\n","import { defineStore } from \"pinia\";\nimport { ref } from \"vue\";\n\nexport const useBaseMapsStore = defineStore(\"baseMaps\", () => {\n  /**\n   * ref()s become state properties\n   * computed()s become getters\n   * function()s become actions\n   */\n  const baseMaps = ref([\n    {\n      id: \"bm_osm\",\n      title: \"OpenStreetMap\",\n      cardImage: \"https://a.tile.openstreetmap.org/0/0/0.png\",\n      tiles: \"https://a.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n      attribution: \"&copy; OpenStreetMap Contributors\",\n    },\n    {\n      id: \"bm_otm\",\n      title: \"OpenTopoMap\",\n      cardImage: \"https://a.tile.opentopomap.org/0/0/0.png\",\n      tiles: \"https://a.tile.opentopomap.org/{z}/{x}/{y}.png\",\n      attribution:\n        \"Kartendaten: <a href='https://openstreetmap.org/copyright'>© OpenStreetMap-Mitwirkende</a>, <a href='http://viewfinderpanoramas.org/'>SRTM</a> | Kartendarstellung: <a href='https://opentopomap.org/'>© OpenTopoMap</a> <a href='https://creativecommons.org/licenses/by-sa/3.0/'>CC-BY-SA</a>\",\n    },\n    {\n      id: \"bm_world_bathymetry\",\n      title: \"Some example for WMTS\",\n      cardImage:\n        \"https://services.ga.gov.au/gis/rest/services/World_Bathymetry_Base_Map/MapServer/WMTS/tile/1.0.0/World_Bathymetry_Base_Map/default/default028mm/0/0/0.png\",\n      tiles:\n        \"https://services.ga.gov.au/gis/rest/services/World_Bathymetry_Base_Map/MapServer/WMTS/tile/1.0.0/World_Bathymetry_Base_Map/default/default028mm/{z}/{y}/{x}.png\",\n      attribution:\n        \"Map tiles by <a href='https://ecat.ga.gov.au/geonetwork/srv/api/records/62030aca-329d-44b2-8b36-c74a5ac1f574'>World Bathymetry Base Map WMTS</a>, <a href='https://creativecommons.org/licenses/'>CC BY 4.0</a>\",\n    },\n  ]);\n\n  return { baseMaps };\n});\n","<script setup>\nimport { defineProps } from \"vue\";\n\nimport { Map } from \"maplibre-gl\";\n\nimport { useSettingsStore } from \"@/store/settings\";\nimport { useBaseMapsStore } from \"@/store/baseMaps\";\n\nconst settings = useSettingsStore();\nconst bm = useBaseMapsStore();\n\nconst props = defineProps({ map: Map });\n\nfunction changeBaseLayer(oldBaseLayer, newBaseLayer) {\n  // change base map on click\n  if (newBaseLayer == oldBaseLayer) {\n    return;\n  } else {\n    props.map.setLayoutProperty(oldBaseLayer, \"visibility\", \"none\");\n    props.map.setLayoutProperty(newBaseLayer, \"visibility\", \"visible\");\n    settings.activeBaseLayer = newBaseLayer;\n  }\n}\n</script>\n\n<template>\n  <div class=\"base-map-settings\">\n    <p class=\"d-grid gap-2\">\n      <button\n        class=\"btn btn-primary\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#baseMaps\"\n        aria-expanded=\"false\"\n        aria-controls=\"baseMaps\"\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"16\"\n          height=\"16\"\n          fill=\"currentColor\"\n          class=\"bi bi-arrows-expand\"\n          viewBox=\"0 0 16 16\"\n        >\n          <path\n            fill-rule=\"evenodd\"\n            d=\"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2M8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10\"\n          />\n        </svg>\n        Base Maps\n      </button>\n    </p>\n    <div class=\"collapse\" id=\"baseMaps\">\n      <div class=\"maps-content d-flex\">\n        <div\n          class=\"card mx-1\"\n          style=\"width: 9rem\"\n          role=\"button\"\n          v-for=\"baseMap in bm.baseMaps\"\n          :key=\"baseMap.id\"\n          @click=\"changeBaseLayer(settings.activeBaseLayer, baseMap.id)\"\n        >\n          <img\n            class=\"card-img-top\"\n            :src=\"baseMap.cardImage\"\n            alt=\"Card image cap\"\n          />\n          <p class=\"text-center\">{{ baseMap.title }}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style></style>\n","import script from \"./BaseMapSettings.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BaseMapSettings.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineStore } from \"pinia\";\nimport { ref } from \"vue\";\n\nimport * as SwaggerParser from \"@apidevtools/swagger-parser\";\nimport axios from \"axios\";\nimport gjv from \"geojson-validation\";\n\nexport const useMeasurementStore = defineStore(\"measurements\", () => {\n  /**\n   * ref()s become state properties\n   * computed()s become getters\n   * function()s become actions\n   */\n  const geojson = ref(null);\n  const dataSchema = ref(null);\n  const selectableProperties = ref(null);\n  const isDataLoading = ref(null);\n  const isSchemaLoading = ref(null);\n\n  /**\n   * @description\n   * @param {String} url\n   */\n  async function fetchAPIDataSchema(url) {\n    //   /api/v1/schema/\n    isSchemaLoading.value = true;\n    console.log(\"API Data Schema\");\n    try {\n      let parser = new SwaggerParser();\n      await parser.dereference(url).then((apiSchema) => {\n        dataSchema.value = apiSchema.components.schemas.Measurement;\n        console.log(dataSchema.value);\n        setSelectableProperties();\n        isSchemaLoading.value = false;\n      });\n    } catch (e) {\n      console.log(\"error in fetching data schema\" + e);\n    }\n  }\n\n  /**\n   * @description\n   * @param {String} url\n   * @param {Array} data\n   * @returns {Array}\n   */\n  async function fetchPagedAPIData(url, data) {\n    data = data || [];\n\n    await axios\n      .get(url)\n      .then((response) => {\n        response.data.results.forEach((entry) => {\n          data.push(entry);\n        });\n\n        if (response.data.next != null) {\n          return fetchPagedAPIData(response.data.next, data);\n        }\n        return data;\n      })\n      .catch((err) => {\n        console.log(\"rejected\", err);\n      });\n    console.log(\"return data\");\n    console.log(data);\n    return data;\n  }\n\n  /**\n   * @description Gather information of each site and write it to GeoJSON feature\n   * @param {Object} siteObject\n   */\n  function collectPntAttributes(siteObject) {\n    const featKeys = Object.keys(siteObject);\n\n    let coord = null;\n    let property = {};\n\n    featKeys.forEach((key) => {\n      if (key == \"sample\") {\n        if (siteObject[key].location != null) {\n          coord = siteObject[key].location.point;\n        }\n      } else {\n        // console.log(\"hat keine location\");\n        property[key] = siteObject[key];\n      }\n    });\n\n    return [coord, property];\n  }\n\n  /**\n   * @description Write GeoJSON point feature and validate it\n   * @param {String} uuid\n   * @param {Array} coord\n   * @param {Object} property\n   */\n  function writePntFeature(pntAttributes) {\n    const feature = {\n      id: pntAttributes[1].id,\n      type: \"Feature\",\n      geometry: pntAttributes[0],\n      properties: pntAttributes[1],\n    };\n\n    if (gjv.isFeature(feature, true)) {\n      return feature;\n    } else {\n      console.log(gjv.isFeature(feature, true));\n    }\n  }\n\n  /**\n   * @description fetch JSON from heat flow API and convert it to geojson\n   * @param {String} url\n   */\n  function convertAPIData2GeoJSON(url) {\n    return fetchPagedAPIData(url).then((value) => {\n      console.log(\"measurments\");\n      console.log(value);\n\n      let featuresArray = [];\n\n      value.forEach((siteObject) => {\n        // console.log(siteObject);\n        const pntAttributes = collectPntAttributes(siteObject);\n        featuresArray.push(writePntFeature(pntAttributes));\n      });\n\n      const featureCollection = {\n        type: \"FeatureCollection\",\n        features: featuresArray,\n      };\n\n      if (gjv.isFeatureCollection(featureCollection)) {\n        console.log(\"inside async func\");\n        console.log(featureCollection);\n        return featureCollection;\n      } else {\n        console.log(gjv.isFeatureCollection(featureCollection, true));\n      }\n    });\n  }\n\n  /**\n   *\n   * @param {String} url\n   */\n  async function fetchAPIData(url) {\n    isDataLoading.value = true;\n    geojson.value = await convertAPIData2GeoJSON(url);\n    isDataLoading.value = false;\n  }\n\n  /**\n   * @description\n   * @param {*} property\n   * @returns {Boolean}\n   */\n  function isPropertySelectable(property) {\n    let isSelectable = null;\n\n    if (\n      dataSchema.value.properties[property].type == \"string\" &&\n      !dataSchema.value.properties[property].enum\n    ) {\n      console.log(property + \" is not suitable for data driven coloring\");\n      isSelectable = false;\n    } else if (\n      dataSchema.value.properties[property].type == \"integer\" &&\n      (!dataSchema.value.properties[property].minimum ||\n        !dataSchema.value.properties[property].maximum)\n    ) {\n      console.log(property + \" is not suitable for data driven coloring\");\n      isSelectable = false;\n    } else if (dataSchema.value.properties[property].type == \"object\") {\n      console.log(property + \" is not suitable for data driven coloring\");\n      isSelectable = false;\n    } else {\n      isSelectable = true;\n    }\n    return isSelectable;\n  }\n\n  /**\n   * @description Takes property name and brings it to structure necessary for VueMultiselect component\n   * @param {String} propertyName\n   * @returns {Object}\n   */\n  function createVueMultiselectOption(propertyName) {\n    const propertyObj = dataSchema.value.properties[propertyName];\n    let optionsObject = {};\n    optionsObject[\"title\"] = propertyObj.title;\n    optionsObject[\"key\"] = propertyName;\n\n    return optionsObject;\n  }\n\n  /**\n   * @description Throw out all properties options which are not suitable for the data driven coloring e.g. name, data points either be already classified (enum) or should be able to classify (continouse numerbs)\n   * @param {*} schema\n   * @returns {Array}\n   */\n  function setSelectableProperties() {\n    const propertiesKey = Object.keys(dataSchema.value.properties);\n    let selection = [];\n\n    propertiesKey.forEach((propertyName) => {\n      if (isPropertySelectable(propertyName)) {\n        selection.push(createVueMultiselectOption(propertyName));\n      }\n    });\n\n    selectableProperties.value = selection;\n    console.log(\"check selectable properties\");\n    console.log(selectableProperties.value);\n  }\n\n  return {\n    geojson,\n    dataSchema,\n    selectableProperties,\n    isDataLoading,\n    isSchemaLoading,\n    fetchAPIData,\n    fetchAPIDataSchema,\n  };\n});\n","import { defineStore } from \"pinia\";\nimport { ref } from \"vue\";\n\nexport const useLegendStore = defineStore(\"legend\", () => {\n  /**\n   * ref()s become state properties\n   * computed()s become getters\n   * function()s become actions\n   */\n  const legend = ref(null);\n\n  /**\n   * @description set up an object with relevant information for creating a legend\n   * @param {Array} classes\n   * @param {Array} colors\n   */\n  function setLegendObject(classes, colors) {\n    let legendObj = {};\n    for (var i = 0; i < colors.length; i++) {\n      if (colors.length == classes.length) {\n        legendObj[i] = {\n          id: i,\n          text: classes[i],\n          colorHEX: colors[i],\n        };\n      } else if (colors.length < classes.length) {\n        legendObj[i] = {\n          id: i,\n          text: classes[i].toFixed(2) + \" - \" + classes[i + 1].toFixed(2),\n          colorHEX: colors[i],\n        };\n      }\n    }\n\n    legend.value = legendObj;\n  }\n\n  /**\n   * @description to reset legend\n   */\n  function setLegendToNull() {\n    if (legend.value) {\n      legend.value = null;\n    }\n  }\n\n  return { legend, setLegendObject, setLegendToNull };\n});\n","<script setup>\nimport { defineProps, ref, watch } from \"vue\";\nimport { useMeasurementStore } from \"@/store/measurements\";\nimport { useLegendStore } from \"@/store/legend\";\nimport { useSettingsStore } from \"@/store/settings\";\n\nimport VueMultiselect from \"vue-multiselect\";\nimport { CPopover, CButton } from \"@coreui/bootstrap-vue\";\n\n// Extern Libraries\nimport geostats from \"geostats\";\nimport { quantileSeq } from \"mathjs\";\nimport { Map } from \"maplibre-gl\";\nimport colorbrewer from \"colorbrewer\";\n\n// Variables\nconst props = defineProps({ map: Map });\n\nconst measurements = useMeasurementStore();\nconst legend = useLegendStore();\nconst settings = useSettingsStore();\n\nconst selectedProperty = ref(null);\nconst selectedPropertyDataType = ref();\n\nconst legalSteps = ref([3, 4, 5, 6, 7, 8, 9, 10, 11]);\nconst colorSteps = ref(4);\nconst colorPaletteOptions = ref(null);\nsetColorPaletteOptions(colorSteps.value);\nconst selectedColorPalette = ref(colorPaletteOptions.value[0]);\n\nconst classificationTypes = ref([\n  {\n    name: \"quantil\",\n    title: \"Quantil\",\n    desc: \"Each class contains an equal number of features\",\n    src: \"https://pro.arcgis.com/en/pro-app/latest/help/mapping/layer-properties/data-classification-methods.htm#ESRI_SECTION1_1BDD383C17164B948BF546CEADDA70E9\",\n  },\n  {\n    name: \"jenks\",\n    title: \"Jenks\",\n    desc: \"Class breaks are created in a way that best groups similar values together and maximizes the differences between classes\",\n    src: \"https://pro.arcgis.com/en/pro-app/latest/help/mapping/layer-properties/data-classification-methods.htm#ESRI_SECTION1_B47C458CFF6A4EEC933A8C7612DA558B\",\n  },\n]);\nconst selectedClassificationType = ref(classificationTypes.value[0]);\n\n/**\n * set new color options when amount of classes (colorSteps) is changing\n */\nwatch(colorSteps, (newColorSteps) => {\n  setColorPaletteOptions(newColorSteps);\n});\n\n/**\n *\n * @param {*} circleRadius\n * @description If user changes size of circles, the watch method keeps track of it and adjust it synchron\n */\nfunction setCircleRadius(circleRadius) {\n  props.map.setPaintProperty(\"sites\", \"circle-radius\", parseInt(circleRadius));\n}\n\n/**\n * @description set Circle color\n * @param {String} colorHEX\n * @returns {Void}\n */\nfunction setCircleColor(colorHEX) {\n  if (props.map.getPaintProperty(\"sites\", \"circle-color\") == colorHEX) {\n    return;\n  } else {\n    props.map.setPaintProperty(\"sites\", \"circle-color\", colorHEX);\n    settings.circleColor = colorHEX;\n  }\n}\n\n/**\n * @description\n * @param {Number} classes\n */\nfunction setColorPaletteOptions(classes) {\n  if (classes >= 12) {\n    console.log(\"Number of classes out of range\");\n    return;\n  }\n  let schemaGroup = [];\n\n  colorbrewer.schemeGroups.diverging.forEach((schema) => {\n    const value = {\n      name: schema,\n      colors: colorbrewer[schema][classes],\n    };\n    schemaGroup.push(value);\n  });\n\n  colorPaletteOptions.value = schemaGroup;\n}\n\n/**\n * @description\n * @param {Object} property\n */\nfunction setPropertyDataType(property) {\n  selectedPropertyDataType.value =\n    measurements.dataSchema.properties[property.key].type;\n}\n\n/**\n * @description Collects all leagle enum classes from the data schema\n * @param {Object} enumProperty\n * @returns {Array}\n */\nfunction getEnumClasses(enumProperty) {\n  let classes = [];\n\n  measurements.dataSchema.properties[enumProperty].oneOf.forEach(\n    (enumSchema) => {\n      enumSchema.enum.forEach((enumClass) => {\n        if (enumClass) {\n          classes.push(enumClass);\n        }\n      });\n    }\n  );\n\n  return classes;\n}\n\n/**\n * @description Calculate breaks for jenks classification\n * @param {String} property\n * @param {Number} steps\n * @returns {Array} [minValue, break1, ..., breakN, maxValue]\n */\nfunction getJenksNaturalBreaks(geoJson, property, steps) {\n  const values = propertyValuesToArray(geoJson, property).filter(Boolean);\n  let classifier = new geostats(values);\n  let breaks = classifier.getJenks(steps);\n\n  return breaks;\n}\n\n/**\n * @description Helper function for Math.quantileSeq() to collect only the values of a single property within one array\n * @param {*} geoJson\n * @param {String} property\n * @returns {Array}\n */\nfunction propertyValuesToArray(geoJson, property) {\n  let values = [];\n\n  geoJson.features.forEach((feature) => {\n    values.push(feature.properties[property]);\n  });\n\n  return values;\n}\n\n/**\n * @description Calculate breaks for quantil classification (each class has the same amount of data points)\n * @param {*} geoJson\n * @param {String} property\n * @param {Number} steps\n * @returns {Array}\n */\nfunction getQuantilBreaks(geoJson, property, steps) {\n  const values = propertyValuesToArray(geoJson, property).filter(Boolean);\n  const breaks = quantileSeq(values, steps - 1);\n\n  // add min value to beginning of array\n  breaks.unshift(Math.min.apply(null, values));\n\n  // add max value to end of array\n  breaks.push(Math.max.apply(null, values));\n\n  return breaks;\n}\n\n/**\n * @description Case differentiation if quantil or jenks is selected as classification method. According to the method, calculates the braks and returns them as array. Check the\n * following link for a explanation to qunatil and jenks data classification.\n * @link https://gisgeography.com/choropleth-maps-data-classification/\n * @param {String} property\n * @returns {Array} [minValue, break1, ..., breakN, maxValue]\n */\nfunction getNumberBreaks(property) {\n  if (selectedClassificationType.value.name == \"jenks\") {\n    return getJenksNaturalBreaks(\n      props.map.getSource(\"sites\")._data,\n      property,\n      colorSteps.value\n    );\n  } else {\n    return getQuantilBreaks(\n      props.map.getSource(\"sites\")._data,\n      property,\n      colorSteps.value\n    );\n  }\n}\n\n/**\n * @description write array containg maplibre conform expressions for properties with enum values. Legal values are according to predefined classes\n * @param {String} property\n * @param {Array} classes\n * @param {Array} colors\n * @returns {Array} [\"match\", [\"get\", \"property\"], class, #color, ..., #colorOthers] --> https://docs.mapbox.com/mapbox-gl-js/example/data-driven-circle-colors/\n */\nfunction generateEnumPaintProperty(property, classes, colors) {\n  let paintProperty = [];\n\n  paintProperty.push(\"match\");\n  paintProperty.push([\"get\", property]);\n\n  classes.forEach((value, index) => {\n    paintProperty.push(value, colors[index]);\n  });\n\n  // others\n  paintProperty.push(\"#ccc\");\n\n  return paintProperty;\n}\n\n/**\n * @description write array containg maplibre conform expressions for properties with continous number values. Each class (start value - end value) one color value is assigned.\n * @param {String} property\n * @param {Array} classes\n * @param {Array} colors\n * @returns {Array} [\"step\", [\"get\", \"property\"], #color, NUMBER, #color, ...]\n */\nfunction generateContinuousPaintProperty(property, classes, colors) {\n  let paintProperty = [];\n  let k = 1;\n\n  paintProperty.push(\"step\");\n  paintProperty.push([\"get\", property]);\n\n  for (var i = 0; i < colors.length; i++) {\n    paintProperty.push(colors[i]);\n    if (i < colors.length - 1) {\n      paintProperty.push(classes[k]);\n      k++;\n    }\n  }\n\n  return paintProperty;\n}\n\n/**\n * @description programm for providing and reacting to user driven colorisation of data according to properties\n * @returns {Void}\n */\nfunction dataDrivenColorisation() {\n  if (!selectedProperty.value) {\n    console.error(\"no property selected\");\n  } else if (selectedPropertyDataType.value == \"number\") {\n    // TODO: Fallunterscheidung Sequential/Diverging\n    // handling properties of data type number\n    let classes = getNumberBreaks(selectedProperty.value.key);\n    const paintProperty = generateContinuousPaintProperty(\n      selectedProperty.value.key,\n      classes,\n      colorbrewer[selectedColorPalette.value.name][colorSteps.value]\n    );\n    props.map.setPaintProperty(\"sites\", \"circle-color\", paintProperty);\n    legend.setLegendObject(\n      classes,\n      colorbrewer[selectedColorPalette.value.name][colorSteps.value]\n    );\n  } else if (selectedPropertyDataType.value == undefined) {\n    // TODO: Qualitativ Farbpalette\n    // handling properties of data type string + enum\n    let classes = getEnumClasses(selectedProperty.value.key);\n    colorSteps.value = classes.length;\n    const paintProperty = generateEnumPaintProperty(\n      selectedProperty.value.key,\n      classes,\n      colorbrewer[selectedColorPalette.value.name][colorSteps.value]\n    );\n    props.map.setPaintProperty(\"sites\", \"circle-color\", paintProperty);\n    legend.setLegendObject(\n      classes,\n      colorbrewer[selectedColorPalette.value.name][colorSteps.value]\n    );\n  } else if (selectedPropertyDataType.value == \"boolean\") {\n    // TODO: generateBooleanPaintProperty() method\n    console.log(selectedProperty.value.key + \" is boolean\");\n    return;\n  }\n}\n</script>\n\n<template>\n  <!-- Circle Size  -->\n  <p class=\"mt-1 d-grid gap-2\">\n    <button\n      class=\"btn btn-primary\"\n      type=\"button\"\n      data-bs-toggle=\"collapse\"\n      data-bs-target=\"#circleSize\"\n      aria-expanded=\"false\"\n      aria-controls=\"circleSize\"\n    >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"16\"\n        height=\"16\"\n        fill=\"currentColor\"\n        class=\"bi bi-arrows-expand\"\n        viewBox=\"0 0 16 16\"\n      >\n        <path\n          fill-rule=\"evenodd\"\n          d=\"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2M8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10\"\n        />\n      </svg>\n      Circle Size\n    </button>\n  </p>\n  <div class=\"collapse\" id=\"circleSize\">\n    <div class=\"card card-body\">\n      <input\n        type=\"range\"\n        class=\"form-range\"\n        id=\"customRange1\"\n        min=\"0\"\n        step=\"1\"\n        max=\"10\"\n        v-model=\"settings.circleRadius\"\n        @input=\"setCircleRadius(settings.circleRadius)\"\n      />\n      <span class=\"text-muted text-center\">{{ settings.circleRadius }} px</span>\n    </div>\n  </div>\n\n  <!-- Circle color -->\n  <p class=\"mt-1 d-grid gap-2\">\n    <button\n      class=\"btn btn-primary\"\n      type=\"button\"\n      data-bs-toggle=\"collapse\"\n      data-bs-target=\"#circleFillColor\"\n      aria-expanded=\"false\"\n      aria-controls=\"circleFillColor\"\n    >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"16\"\n        height=\"16\"\n        fill=\"currentColor\"\n        class=\"bi bi-arrows-expand\"\n        viewBox=\"0 0 16 16\"\n      >\n        <path\n          fill-rule=\"evenodd\"\n          d=\"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2M8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10\"\n        />\n      </svg>\n      Fill color\n    </button>\n  </p>\n  <div class=\"collapse\" id=\"circleFillColor\">\n    <div class=\"card card-body\">\n      <div class=\"btn-group\" role=\"group\" aria-label=\"Color Selection\">\n        <button\n          type=\"button\"\n          class=\"btn btn-secondary\"\n          v-for=\"colorHEX in colorbrewer['Paired'][12]\"\n          :key=\"colorHEX\"\n          :style=\"{ 'background-color': colorHEX }\"\n          @click=\"setCircleColor(colorHEX), legend.setLegendToNull()\"\n        ></button>\n      </div>\n    </div>\n  </div>\n\n  <!-- Data Driven Coloring -->\n  <!-- Property selection -->\n  <p class=\"mt-1 d-grid gap-2\">\n    <button\n      class=\"btn btn-primary\"\n      type=\"button\"\n      data-bs-toggle=\"collapse\"\n      data-bs-target=\"#dataDrivenColoring\"\n      aria-expanded=\"false\"\n      aria-controls=\"dataDrivenColoring\"\n    >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"16\"\n        height=\"16\"\n        fill=\"currentColor\"\n        class=\"bi bi-arrows-expand\"\n        viewBox=\"0 0 16 16\"\n      >\n        <path\n          fill-rule=\"evenodd\"\n          d=\"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2M8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10\"\n        />\n      </svg>\n      Data Driven Coloring\n    </button>\n  </p>\n  <div class=\"collapse\" id=\"dataDrivenColoring\">\n    <div class=\"card card-body\">\n      <!-- Select property for coloring -->\n      <VueMultiselect\n        v-model=\"selectedProperty\"\n        :options=\"measurements.selectableProperties\"\n        label=\"title\"\n        placeholder=\"Property\"\n        :allow-empty=\"false\"\n        @select=\"\n          setPropertyDataType(selectedProperty), dataDrivenColorisation()\n        \"\n      >\n      </VueMultiselect>\n      <!-- Select classification method for number values -->\n      <VueMultiselect\n        v-if=\"selectedPropertyDataType == 'number'\"\n        v-model=\"selectedClassificationType\"\n        :options=\"classificationTypes\"\n        label=\"title\"\n        placeholder=\"Data classification method\"\n        :allow-empty=\"false\"\n        @select=\"dataDrivenColorisation()\"\n      >\n        <template #option=\"{ option }\"\n          >{{ option.title }}\n          <!-- Custom template for options in the dropdown -->\n\n          <CPopover placement=\"right\" trigger=\"hover\">\n            <template #content>\n              {{ option.desc }}\n            </template>\n            <template #toggler=\"{ on }\">\n              <CButton color=\"transparent\" v-on=\"on\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"16\"\n                  height=\"16\"\n                  fill=\"currentColor\"\n                  class=\"bi bi-info-circle\"\n                >\n                  <path\n                    d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16\"\n                  />\n                  <path\n                    d=\"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0\"\n                  />\n                </svg>\n              </CButton>\n            </template>\n          </CPopover>\n        </template>\n      </VueMultiselect>\n\n      <!-- Select number of classes  -->\n      <VueMultiselect\n        v-if=\"selectedPropertyDataType == 'number'\"\n        v-model=\"colorSteps\"\n        :options=\"legalSteps\"\n        placeholder=\"Number of classes\"\n        :allow-empty=\"false\"\n        @select=\"dataDrivenColorisation()\"\n      >\n      </VueMultiselect>\n\n      <!-- Select color palette -->\n      <VueMultiselect\n        v-if=\"selectedProperty\"\n        v-model=\"selectedColorPalette\"\n        :options=\"colorPaletteOptions\"\n        :multiple=\"false\"\n        :close-on-select=\"true\"\n        :allow-empty=\"false\"\n        @select=\"dataDrivenColorisation()\"\n      >\n        <!-- TODO: selected color palette is not changing when number of colorSteps is changing -->\n        <template #singleLabel=\"{ option }\">\n          <div class=\"btn-group\">\n            <button\n              type=\"button\"\n              class=\"btn btn-secondary\"\n              v-for=\"color in option.colors\"\n              :key=\"color\"\n              :style=\"{ backgroundColor: color }\"\n            ></button>\n          </div>\n        </template>\n        <template #option=\"{ option }\">\n          <div class=\"btn-group\">\n            <button\n              type=\"button\"\n              class=\"btn btn-secondary\"\n              v-for=\"color in option.colors\"\n              :key=\"color\"\n              :style=\"{ backgroundColor: color }\"\n            ></button>\n          </div> </template\n      ></VueMultiselect>\n    </div>\n  </div>\n</template>\n\n<style scoped></style>\n","import script from \"./CircleStylingSettings.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CircleStylingSettings.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport { defineProps, ref, watch } from \"vue\";\n\nimport BaseMapSettings from \"./BaseMapSettings.vue\";\n// import ClusterSettings from \"./content/ClusterSettings.vue\";\nimport CircleStylingSettings from \"./CircleStylingSettings.vue\";\nimport { Map } from \"maplibre-gl\";\n// import GraticuleSettings from \"./content/GraticuleSettings.vue\";\n\nconst props = defineProps({\n  map: Map,\n  activeBaseLayer: String,\n  heatFlowSchema: Object,\n});\nconst heatFlowSchema = ref(props.heatFlowSchema);\n\nwatch(props, (newProps) => {\n  heatFlowSchema.value = newProps.heatFlowSchema;\n\n  console.log(\"--------Settings\");\n  console.log(heatFlowSchema.value);\n});\n</script>\n\n<template>\n  <BaseMapSettings :map=\"props.map\" :activeBaseLayer=\"props.activeBaseLayer\" />\n\n  <!-- <ClusterSettings /> -->\n\n  <CircleStylingSettings :map=\"props.map\" />\n\n  <!-- <GraticuleSettings /> -->\n</template>\n\n<style scoped></style>\n","import script from \"./SettingsPanel.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SettingsPanel.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineStore } from \"pinia\";\nimport { ref } from \"vue\";\n\nexport const useFilterStore = defineStore(\"filter\", () => {\n  /**\n   * ref()s become state properties\n   * computed()s become getters\n   * function()s become actions\n   */\n  // const filterIDs = ref([]);\n  const filters = ref({ attributeFilter: {}, locationFilter: {} });\n  const maxAttributeFilter = ref(10);\n  const reachedLimit = ref(false);\n\n  /**\n   *\n   * @returns new value for filter object\n   */\n  function getNewFilterObject() {\n    return {\n      selectedProperty: null,\n      selectedPropertyType: null,\n      selectedValues: null,\n      expression: null,\n    };\n  }\n\n  /**\n   *\n   * @param {*} filterId\n   */\n  function addFilter(filterId, category) {\n    if (category == \"locationFilter\") {\n      filters.value[category][filterId] = getNewFilterObject();\n      return;\n    }\n    const nrAttributeFilter = Object.keys(filters.value[category]).length;\n    if (\n      category == \"attributeFilter\" &&\n      nrAttributeFilter < maxAttributeFilter.value\n    ) {\n      filters.value[category][filterId] = getNewFilterObject();\n      return;\n    } else {\n      reachedLimit.value = true;\n      console.log(\"You reached the maximum number of attribute filters\");\n    }\n  }\n\n  /**\n   *\n   * @param {*} id\n   */\n  function removeFilterElement(filterId, category) {\n    delete filters.value[category][filterId];\n    reachedLimit.value = false;\n  }\n\n  /**\n   * @description combine multiple filter expressions to one. All filter expressions have to be true.\n   * @returns {Array} containing filter expressions\n   */\n  function writeFilterExpression() {\n    let expression = [\"all\"];\n\n    Object.entries(filters.value).forEach(([category]) => {\n      Object.entries(filters.value[category]).forEach(([key]) => {\n        if (filters.value[category][key].expression != null) {\n          expression.push(filters.value[category][key].expression);\n        } else {\n          console.log(\"Empty filterExpression for filter with key: \" + key);\n        }\n      });\n    });\n    console.log(expression);\n\n    return expression;\n  }\n\n  /**\n   * @description set Filter to map via internal maplibre function.\n   */\n  function applyFilterToMap(mapObject) {\n    const expression = writeFilterExpression();\n\n    mapObject.setFilter(\"sites\", expression);\n  }\n\n  /**\n   * method code from https://docs.mapbox.com/mapbox-gl-js/example/filter-features-within-map-view/\n   * @param {*} features\n   * @param {*} comparatorProperty\n   */\n  function getUniqueFeatures(features, comparatorProperty) {\n    const uniqueIds = new Set();\n    const uniqueFeatures = [];\n    for (const feature of features) {\n      const id = feature.properties[comparatorProperty];\n      if (!uniqueIds.has(id)) {\n        uniqueIds.add(id);\n        uniqueFeatures.push(feature);\n      }\n    }\n    return uniqueFeatures;\n  }\n\n  /**\n   *\n   */\n  function getFilteredFeatures(mapObject) {\n    let filterExpression = writeFilterExpression();\n    let queriedFeatures = mapObject.querySourceFeatures(\"sites\", {\n      sourceLayer: \"sites\",\n      filter: filterExpression,\n    });\n    const uniqueFeatures = getUniqueFeatures(queriedFeatures, \"id\");\n    console.log(uniqueFeatures);\n    return uniqueFeatures;\n  }\n\n  return {\n    filters,\n    maxAttributeFilter,\n    reachedLimit,\n    getNewFilterObject,\n    addFilter,\n    removeFilterElement,\n    applyFilterToMap,\n    getFilteredFeatures,\n  };\n});\n","<script setup>\nimport { defineProps, ref, watch } from \"vue\";\nimport VueMultiselect from \"vue-multiselect\";\nimport VueSlider from \"vue-slider-component\";\nimport { CRow, CCol } from \"@coreui/bootstrap-vue\";\n\nimport { useMeasurementStore } from \"@/store/measurements\";\nimport { useFilterStore } from \"@/store/filter\";\n\nconst props = defineProps({ id: String });\n\nconst measurements = useMeasurementStore();\nconst filter = useFilterStore();\n\nconst filterElement = ref(filter.filters.attributeFilter[props.id]);\n\n/**\n * TODO: wenn filterElement bereits besteht, werden valueOptions nicht gesetzt.\n * Problem: valueOptions wird gesetzt, wenn ein property ausgewählt wird, was nicht der Fall ist, wenn filterElement bereits existiert\n */\nconst valueOptions = ref(null);\n\n/**\n * @description\n */\nwatch(filterElement.value.selectedValues, () => {\n  if (filterElement.value.selectedValues.length > 0) {\n    setFilterExpression(\n      filterElement.value.selectedProperty,\n      filterElement.value.selectedValues\n    );\n  }\n});\n\n/**\n * @description Store data type of selected property\n * @param {String} selectedProperty\n */\nfunction setSelectedPropertyType(selectedProperty) {\n  filterElement.value.selectedPropertyType =\n    measurements.dataSchema.properties[selectedProperty].type;\n}\n\n/**\n * @description Resets the array with the selected filter values\n */\nfunction resetSelectedValues() {\n  if (\n    filterElement.value.selectedPropertyType == \"number\" &&\n    valueOptions.value.length != 0\n  ) {\n    filterElement.value.selectedValues = [\n      valueOptions.value[0],\n      valueOptions.value[1],\n    ];\n  } else {\n    filterElement.value.selectedValues = [];\n  }\n}\n\nfunction resetFilterExpression() {\n  filterElement.value.expression = null;\n}\n\n/**\n * @description Collects all leagle enum classes from the data schema\n * @param {Object} enumProperty\n * @returns {Array}\n */\nfunction getEnumClasses(enumProperty) {\n  let classes = [];\n\n  measurements.dataSchema.properties[enumProperty].oneOf.forEach(\n    (enumSchema) => {\n      enumSchema.enum.forEach((enumClass) => {\n        if (enumClass) {\n          classes.push(enumClass);\n        }\n      });\n    }\n  );\n\n  return classes;\n}\n\n/**\n * @description Helper function for Math.quantileSeq() to collect only the values of a single property within one array\n * @param {*} geoJson\n * @param {String} property\n * @returns {Array}\n */\nfunction propertyValuesToArray(geoJson, property) {\n  let values = [];\n\n  geoJson.features.forEach((feature) => {\n    values.push(feature.properties[property]);\n  });\n\n  return values;\n}\n\n/**\n * @description Calculate breaks for quantil classification (each class has the same amount of data points)\n * @param {*} geoJson\n * @param {String} property\n * @param {Number} steps\n * @returns {Array}\n */\nfunction getRange(geoJson, property) {\n  const values = propertyValuesToArray(geoJson, property).filter(Boolean);\n\n  const min = Math.floor(Math.min.apply(null, values));\n  const max = Math.ceil(Math.max.apply(null, values));\n\n  const bounds = [min, max];\n\n  return bounds;\n}\n\n/**\n * @description Set legal options for selected property\n * @param {String} selectedProperty\n */\nfunction setValueOptions(selectedProperty) {\n  if (filterElement.value.selectedPropertyType == undefined) {\n    valueOptions.value = getEnumClasses(selectedProperty);\n  } else if (filterElement.value.selectedPropertyType == \"number\") {\n    const geoJson = measurements.geojson;\n    valueOptions.value = getRange(geoJson, selectedProperty);\n    filterElement.value.selectedValues = [\n      valueOptions.value[0],\n      valueOptions.value[1],\n    ];\n  } else {\n    console.log(\"Data type of property is not defined\");\n  }\n}\n\n/**\n * @description Generates filter expression for properties of type string with enum\n * @param {String} property\n * @param {Array} values\n * @returns {Array}\n */\nfunction writeEnumFilter(property, values) {\n  let filterExpression = [\"any\"];\n\n  values.forEach((value) => {\n    filterExpression.push([\"in\", [\"get\", property], value]);\n  });\n\n  return filterExpression;\n}\n\n/**\n * @description Generates filter expression for properties of type number\n * @param {String} property\n * @param {Array} values\n * @returns {Array}\n */\nfunction writeContinuousFilter(property, values) {\n  const minValue = values[0];\n  const maxValue = values[1];\n\n  let filterExpression = [\n    \"all\",\n    [\">=\", [\"get\", property], minValue],\n    [\"<=\", [\"get\", property], maxValue],\n  ];\n\n  return filterExpression;\n}\n\n/**\n * @description\n * @returns {Void}\n */\nfunction setFilterExpression(property, values) {\n  if (filterElement.value.selectedPropertyType == undefined) {\n    filterElement.value.expression = writeEnumFilter(property, values);\n  } else if (filterElement.value.selectedPropertyType == \"number\") {\n    filterElement.value.expression = writeContinuousFilter(property, values);\n  } else if (!filterElement.value.selectedPropertyType) {\n    console.error(\"no property selected\");\n    console.log(filterElement.value.selectedPropertyType);\n    return;\n  }\n}\n</script>\n\n<template>\n  <div class=\"filter-element\">\n    <CRow class=\"d-felx justify-content-start\">\n      <CCol xs=\"10\">\n        <VueMultiselect\n          v-model=\"filterElement.selectedProperty\"\n          :options=\"measurements.selectableProperties\"\n          label=\"title\"\n          :allow-empty=\"false\"\n          placeholder=\"Select property\"\n          @select=\"\n            setSelectedPropertyType(filterElement.selectedProperty.key);\n            setValueOptions(filterElement.selectedProperty.key);\n            resetSelectedValues();\n          \"\n        >\n        </VueMultiselect>\n      </CCol>\n      <CCol xs=\"1\">\n        <button\n          class=\"btn btn-primary\"\n          @click=\"filter.removeFilterElement(props.id, 'attributeFilter')\"\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"16\"\n            fill=\"currentColor\"\n            class=\"bi bi-trash\"\n            viewBox=\"0 0 16 16\"\n          >\n            <path\n              d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z\"\n            />\n            <path\n              d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z\"\n            />\n          </svg>\n        </button>\n      </CCol>\n    </CRow>\n\n    <div class=\"filter-values\" v-if=\"filterElement.selectedProperty\">\n      <div class=\"filter-controller\">\n        <div v-if=\"filterElement.selectedPropertyType === undefined\">\n          <VueMultiselect\n            v-model=\"filterElement.selectedValues\"\n            :options=\"valueOptions\"\n            :modelValue=\"filterElement.selectedValues\"\n            :multiple=\"true\"\n            placeholder=\"Select value(s)\"\n            @select=\"\n              setFilterExpression(\n                filterElement.selectedProperty.key,\n                filterElement.selectedValues\n              )\n            \"\n            @remove=\"\n              setFilterExpression(\n                filterElement.selectedProperty.key,\n                filterElement.selectedValues\n              )\n            \"\n          >\n          </VueMultiselect>\n        </div>\n\n        <!-- \n        Slider:\n        https://www.npmjs.com/package/vue-slider-component \n        -->\n        <div\n          class=\"slider\"\n          v-if=\"filterElement.selectedPropertyType === 'number'\"\n        >\n          <vue-slider\n            v-model=\"filterElement.selectedValues\"\n            :min=\"valueOptions[0]\"\n            :max=\"valueOptions[1]\"\n            :interval=\"0.01\"\n            @change=\"\n              setFilterExpression(\n                filterElement.selectedProperty.key,\n                filterElement.selectedValues\n              )\n            \"\n          ></vue-slider>\n\n          <!-- TODO: Include null value OR select only null values as filter criteria -->\n        </div>\n      </div>\n      <div\n        class=\"reset-filter-btn\"\n        v-if=\"filterElement.selectedValues.length > 0\"\n      >\n        <button\n          class=\"btn btn-primary\"\n          @click=\"\n            resetSelectedValues();\n            resetFilterExpression();\n          \"\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"16\"\n            fill=\"currentColor\"\n            class=\"bi bi-bootstrap-reboot\"\n            viewBox=\"0 0 16 16\"\n          >\n            <path\n              d=\"M1.161 8a6.84 6.84 0 1 0 6.842-6.84.58.58 0 1 1 0-1.16 8 8 0 1 1-6.556 3.412l-.663-.577a.58.58 0 0 1 .227-.997l2.52-.69a.58.58 0 0 1 .728.633l-.332 2.592a.58.58 0 0 1-.956.364l-.643-.56A6.812 6.812 0 0 0 1.16 8z\"\n            />\n            <path\n              d=\"M6.641 11.671V8.843h1.57l1.498 2.828h1.314L9.377 8.665c.897-.3 1.427-1.106 1.427-2.1 0-1.37-.943-2.246-2.456-2.246H5.5v7.352h1.141zm0-3.75V5.277h1.57c.881 0 1.416.499 1.416 1.32 0 .84-.504 1.324-1.386 1.324h-1.6z\"\n            />\n          </svg>\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n@import \"vue-multiselect/dist/vue-multiselect.css\";\n@import \"vue-slider-component/theme/default.css\";\n.filter-element {\n  border-bottom: 4px inset;\n}\n\n.filter-property {\n  display: flex;\n  align-items: center; /* This will vertically align items in the middle */\n  gap: 10px; /* This adds space between the children elements. If not supported in your browser, use margins on children */\n  padding-bottom: 5px;\n}\n\n/* This will make the VueMultiselect expand to take available space */\n.filter-property > VueMultiselect {\n  flex: 1;\n}\n\n.filter-values {\n  display: flex;\n  align-items: center; /* Vertical alignment (optional, if needed) */\n  justify-content: space-between; /* Maximizes space between the two child divs; optional based on design */\n  gap: 10px; /* Adjust spacing between children, if your browser supports it */\n  padding-bottom: 5px;\n}\n\n/* If you want the filter-controller to take most of the available space */\n.filter-controller {\n  flex: 1;\n}\n\n.slider {\n  padding: 15px;\n}\n</style>\n","import script from \"./FilterElement.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FilterElement.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./FilterElement.vue?vue&type=style&index=0&id=7f8bd96c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7f8bd96c\"]])\n\nexport default __exports__","import { defineStore } from \"pinia\";\nimport { ref } from \"vue\";\n\nimport {\n  ScaleControl,\n  FullscreenControl,\n  NavigationControl,\n} from \"maplibre-gl\";\nimport MapboxDraw from \"@mapbox/mapbox-gl-draw\";\n\nexport const useMapControlsStore = defineStore(\"mapControls\", () => {\n  /**\n   * ref()s become state properties\n   * computed()s become getters\n   * function()s become actions\n   */\n  const mapboxDraw = ref(\n    new MapboxDraw({\n      displayControlsDefault: false,\n      controls: {},\n    })\n  );\n\n  const scale = ref(new ScaleControl());\n  const fullscreen = ref(new FullscreenControl());\n  const navigation = ref(new NavigationControl());\n\n  return { mapboxDraw, scale, fullscreen, navigation };\n});\n","<script setup>\nimport { defineProps } from \"vue\";\n\nimport { CTooltip } from \"@coreui/bootstrap-vue\";\n\nimport { useFilterStore } from \"@/store/filter\";\nimport { useMapControlsStore } from \"@/store/mapControls\";\n\nconst props = defineProps({ map: Map });\n\nconsole.log(\"inside filter by location\");\nconsole.log(props.map);\n\nconst filter = useFilterStore();\nconst mapControls = useMapControlsStore();\n\n/**\n *\n */\nfunction drawPolygon() {\n  mapControls.mapboxDraw.changeMode(\"draw_polygon\");\n}\n\n/**\n *\n */\nfunction deletePolygon() {\n  mapControls.mapboxDraw.trash();\n}\n\n/**\n *\n * @param {*} geoJSONObj\n */\nfunction writeLocationFilterExpression(geoJSONObj) {\n  let expression = [];\n\n  expression.push(\"within\");\n  expression.push(geoJSONObj);\n\n  return expression;\n}\n\n/**\n * TODO: only one or multiple areas?\n */\nprops.map.on(\"draw.create\", function (e) {\n  filter.addFilter(e.features[0].id, \"locationFilter\");\n  filter.filters.locationFilter[e.features[0].id].expression =\n    writeLocationFilterExpression(e.features[0].geometry);\n  console.log(\"geojson output\");\n  console.log(e.features);\n  console.log(mapControls);\n});\n\n/**\n *\n */\nprops.map.on(\"draw.delete\", function (e) {\n  filter.removeFilterElement(e.features[0].id, \"locationFilter\");\n});\n\n/**\n *\n */\nprops.map.on(\"draw.update\", function (e) {\n  filter.filters.locationFilter[e.features[0].id].expression[1] =\n    e.features[0].geometry;\n});\n</script>\n\n<template>\n  <div class=\"collapse\" id=\"locationFilter\">\n    <p>Filter points within a custom drawn polygon</p>\n\n    <CTooltip content=\"Draw polygon\" placement=\"bottom\">\n      <template #toggler=\"{ on }\">\n        <button\n          id=\"draw-polygon-btn\"\n          class=\"btn btn-primary mx-1\"\n          v-on=\"on\"\n          @click=\"drawPolygon()\"\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"16\"\n            fill=\"currentColor\"\n            class=\"bi bi-bounding-box-circles\"\n            viewBox=\"0 0 16 16\"\n          >\n            <path\n              d=\"M2 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2M0 2a2 2 0 0 1 3.937-.5h8.126A2 2 0 1 1 14.5 3.937v8.126a2 2 0 1 1-2.437 2.437H3.937A2 2 0 1 1 1.5 12.063V3.937A2 2 0 0 1 0 2m2.5 1.937v8.126c.703.18 1.256.734 1.437 1.437h8.126a2 2 0 0 1 1.437-1.437V3.937A2 2 0 0 1 12.063 2.5H3.937A2 2 0 0 1 2.5 3.937M14 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2M2 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2m12 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2\"\n            />\n          </svg>\n        </button>\n      </template>\n    </CTooltip>\n\n    <CTooltip content=\"Delete selected polygon\" placement=\"bottom\">\n      <template #toggler=\"{ on }\">\n        <button\n          id=\"delte-polygon-btn\"\n          class=\"btn btn-primary mx-1\"\n          v-on=\"on\"\n          @click=\"deletePolygon()\"\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"16\"\n            fill=\"currentColor\"\n            class=\"bi bi-trash\"\n            viewBox=\"0 0 16 16\"\n          >\n            <path\n              d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z\"\n            />\n            <path\n              d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z\"\n            />\n          </svg>\n        </button>\n      </template>\n    </CTooltip>\n  </div>\n</template>\n","import script from \"./FilterByLocation.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FilterByLocation.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport { defineProps } from \"vue\";\nimport { useFilterStore } from \"@/store/filter\";\nimport { Map } from \"maplibre-gl\";\n\nconst props = defineProps({ map: Map });\n\nconst filter = useFilterStore();\n\n/**\n * @description\n */\nfunction downloadFeatures(data, filename) {\n  const blob = new Blob([JSON.stringify(data, null, 2)], {\n    type: \"application/json\",\n  });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement(\"a\");\n  a.href = url;\n  a.download = `${filename}.geojson`;\n  a.click();\n  URL.revokeObjectURL(url);\n}\n</script>\n\n<template>\n  <!-- Download Features -->\n  <button\n    class=\"btn btn-primary rounded-pill bg-white text-primary position-absolute bottom-0 start-0 mx-2 my-2\"\n    @click=\"\n      filter.getFilteredFeatures(props.map),\n        downloadFeatures(filter.getFilteredFeatures(props.map), 'test')\n    \"\n  >\n    <button class=\"btn btn-primary rounded-circle\" type=\"button\">\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"16\"\n        height=\"16\"\n        fill=\"currentColor\"\n        class=\"bi bi-download\"\n        viewBox=\"0 0 16 16\"\n      >\n        <path\n          d=\"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5\"\n        />\n        <path\n          d=\"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z\"\n        />\n      </svg>\n    </button>\n    Download\n  </button>\n</template>\n\n<style></style>\n","import script from \"./DownloadData.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DownloadData.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport { defineProps, watch } from \"vue\";\nimport { Map } from \"maplibre-gl\";\n\nimport { useFilterStore } from \"@/store/filter\";\n\nimport FilterElement from \"./FilterElement.vue\";\nimport FilterByLocation from \"./FilterByLocation.vue\";\nimport DownloadData from \"./DownloadData.vue\";\n\nconst props = defineProps({ map: Map });\n\nconst filter = useFilterStore();\n\n/**\n * @description Watches changes in filterExpressions object and set the filter to map.\n */\nwatch(filter.filters, () => {\n  filter.applyFilterToMap(props.map);\n});\n\n/**\n * @description Is called when btn gets clicked. New entry added to array with the current date when btn gets clicked (as id for filterElement).\n */\nfunction addFilterElement() {\n  if (\n    Object.keys(filter.filters[\"attributeFilter\"]).length <=\n    filter.maxAttributeFilter\n  ) {\n    const filterID = \"attrFilter\" + Date.now();\n    filter.addFilter(filterID, \"attributeFilter\");\n  } else {\n    filter.reachedLimit = true;\n    console.log(\"You reached the maximum number of filters\");\n  }\n}\n</script>\n\n<template>\n  <!-- Attribute Filter -->\n  <p class=\"mt-1 d-grid gap-2\">\n    <button\n      class=\"btn btn-primary\"\n      type=\"button\"\n      data-bs-toggle=\"collapse\"\n      data-bs-target=\"#attributeFilter\"\n      aria-expanded=\"false\"\n      aria-controls=\"attributeFilter\"\n    >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"16\"\n        height=\"16\"\n        fill=\"currentColor\"\n        class=\"bi bi-arrows-expand\"\n        viewBox=\"0 0 16 16\"\n      >\n        <path\n          fill-rule=\"evenodd\"\n          d=\"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2M8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10\"\n        />\n      </svg>\n      Attribute Filter\n    </button>\n  </p>\n  <div class=\"collapse\" id=\"attributeFilter\">\n    <FilterElement\n      v-for=\"id in Object.keys(filter.filters.attributeFilter)\"\n      :key=\"id\"\n      :id=\"id\"\n    >\n    </FilterElement>\n\n    <div class=\"filter-managing-tools\">\n      <label for=\"add-filter-btn\" v-if=\"filter.reachedLimit\"\n        >You reached the max number of filters</label\n      >\n      <button\n        id=\"add-filter-btn\"\n        class=\"btn btn-primary\"\n        v-if=\"!filter.reachedLimit\"\n        @click=\"addFilterElement()\"\n      >\n        + Add Filter\n      </button>\n    </div>\n  </div>\n\n  <!-- Location Filter -->\n  <p class=\"mt-1 d-grid gap-2\">\n    <button\n      class=\"btn btn-primary\"\n      type=\"button\"\n      data-bs-toggle=\"collapse\"\n      data-bs-target=\"#locationFilter\"\n      aria-expanded=\"false\"\n      aria-controls=\"locationFilter\"\n    >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"16\"\n        height=\"16\"\n        fill=\"currentColor\"\n        class=\"bi bi-arrows-expand\"\n        viewBox=\"0 0 16 16\"\n      >\n        <path\n          fill-rule=\"evenodd\"\n          d=\"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2M8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10\"\n        />\n      </svg>\n      Location Filter\n    </button>\n  </p>\n  <FilterByLocation :map=\"map\" />\n\n  <DownloadData :map=\"map\"></DownloadData>\n</template>\n\n<style scoped></style>\n","import script from \"./FilterPanal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FilterPanal.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport { ref, defineProps, watch } from \"vue\";\nimport { newPlot } from \"plotly.js-dist\";\nimport { mean, std, median } from \"mathjs\";\nimport Statistics from \"statistics.js\";\n\nimport VueMultiselect from \"vue-multiselect\";\nimport {\n  CTable,\n  CTableHead,\n  CTableBody,\n  CTableHeaderCell,\n  CTableRow,\n  CTableDataCell,\n} from \"@coreui/bootstrap-vue\";\n\nimport { useMeasurementStore } from \"@/store/measurements\";\nimport { useFilterStore } from \"@/store/filter\";\n\nconst props = defineProps({ map: Map });\n\nconst measurements = useMeasurementStore();\nconst filter = useFilterStore();\n\nconst options = ref([\"GHFDB\", \"Filtered GHFDB\"]);\nconst selectedSourceTitle = ref(null);\nconst selectedSource = ref(measurements.geojson);\nconst selectedProperty = ref(null);\nconst selectedPropertyDataType = ref(null);\nconst table = ref({\n  min: null,\n  max: null,\n  mean: null,\n  std: null,\n  median: null,\n  skewness: null,\n  kurtosis: null,\n});\n\nwatch(selectedPropertyDataType, (newValue) => {\n  if (newValue == \"number\") {\n    setTableValues(selectedProperty.value.key);\n  }\n});\n\n/**\n *\n */\nfunction setDataSource() {\n  if (selectedSourceTitle.value == \"GHFDB\") {\n    selectedSource.value = measurements.geojson;\n  } else if (selectedSourceTitle.value == \"Filtered GHFDB\") {\n    const filteredFeatures = {\n      type: \"FeatureCollection\",\n      features: filter.getFilteredFeatures(props.map),\n    };\n    selectedSource.value = filteredFeatures;\n  }\n}\n\n/**\n * TODO: eventuell D3 histogram einbauen https://d3-graph-gallery.com/graph/histogram_binSize.html\n * @param {String} property\n */\nfunction plotGraph(property) {\n  let dataArr = getPropertyValues(property);\n  console.log(\"plotGraph\");\n  console.log(dataArr);\n  const trace = {\n    x: dataArr,\n    type: \"histogram\",\n  };\n  const data = [trace];\n  newPlot(\"statisticGraph\", data);\n}\n\n/**\n *\n * @param {Sting} property\n */\nfunction getPropertyValues(property) {\n  console.log(\"----before----\");\n  console.log(selectedSource.value.features);\n  let values = selectedSource.value.features.map(\n    (feature) => feature.properties[property]\n  );\n  console.log(\"----after----\");\n  console.log(values);\n\n  return values;\n}\n\n/**\n * @description\n * @param {Object} property\n */\nfunction setPropertyDataType(property) {\n  selectedPropertyDataType.value =\n    measurements.dataSchema.properties[property.key].type;\n}\n\n/**\n *\n * @param {Array} values\n */\nfunction setMin(values) {\n  table.value.min = Math.min.apply(null, values).toFixed(5);\n}\n\n/**\n *\n * @param {Array} values\n */\nfunction setMax(values) {\n  table.value.max = Math.max.apply(null, values).toFixed(5);\n}\n\n/**\n *\n * @param {Array} values\n */\nfunction setMean(values) {\n  table.value.mean = mean(values).toFixed(5);\n}\n\n/**\n *\n * @param {Array} values\n */\nfunction setStd(values) {\n  table.value.std = std(values).toFixed(5);\n}\n\n/**\n *\n * @param {Array} values\n */\nfunction setMedian(values) {\n  table.value.median = median(values).toFixed(5);\n}\n\n/**\n *\n * @param {Array} values\n */\nfunction setSkewness(values) {\n  const stats = new Statistics([]);\n  table.value.skewness = stats.skewness(values).toFixed(5);\n  console.log(\"----skewness\");\n  console.log(table.value.skewness);\n}\n\n/**\n *\n * @param {Array} values\n */\nfunction setKurtosis(values) {\n  const stats = new Statistics([]);\n  table.value.kurtosis = stats.kurtosis(values).toFixed(5);\n  console.log(\"----kurtosis\");\n  console.log(table.value.kurtosis);\n}\n\n/**\n *\n * @param {Array} property\n */\nfunction setTableValues(property) {\n  const values = getPropertyValues(property);\n  setMin(values);\n  setMax(values);\n  setMean(values);\n  setStd(values);\n  setMedian(values);\n  setSkewness(values);\n  setKurtosis(values);\n}\n\nfunction printOut(value) {\n  console.log(\"--------statistics panel---------\");\n  console.log(value);\n}\n</script>\n\n<template>\n  <div>\n    <p class=\"mt-1 d-grid gap-2\">\n      <button\n        class=\"btn btn-primary\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#datasetSelection\"\n        aria-expanded=\"false\"\n        aria-controls=\"datasetSelection\"\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"16\"\n          height=\"16\"\n          fill=\"currentColor\"\n          class=\"bi bi-arrows-expand\"\n          viewBox=\"0 0 16 16\"\n        >\n          <path\n            fill-rule=\"evenodd\"\n            d=\"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2M8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10\"\n          />\n        </svg>\n        1. select dataset\n      </button>\n    </p>\n    <div class=\"collapse\" id=\"datasetSelection\">\n      <VueMultiselect\n        v-model=\"selectedSourceTitle\"\n        :options=\"options\"\n        :allow-empty=\"false\"\n        placeholder=\"1. select dataset\"\n        @select=\"printOut(selectedSourceTitle), setDataSource()\"\n      >\n      </VueMultiselect>\n    </div>\n\n    <p class=\"mt-1 d-grid gap-2\">\n      <button\n        class=\"btn btn-primary\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#propertySelection\"\n        aria-expanded=\"false\"\n        aria-controls=\"propertySelection\"\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"16\"\n          height=\"16\"\n          fill=\"currentColor\"\n          class=\"bi bi-arrows-expand\"\n          viewBox=\"0 0 16 16\"\n        >\n          <path\n            fill-rule=\"evenodd\"\n            d=\"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2M8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10\"\n          />\n        </svg>\n        2. select property\n      </button>\n    </p>\n    <div class=\"collapse\" id=\"propertySelection\">\n      <VueMultiselect\n        v-model=\"selectedProperty\"\n        :options=\"measurements.selectableProperties\"\n        label=\"title\"\n        :allow-empty=\"false\"\n        placeholder=\"2. select property\"\n        @select=\"\n          printOut(selectedProperty), setPropertyDataType(selectedProperty);\n          plotGraph(selectedProperty.key);\n        \"\n      >\n      </VueMultiselect>\n    </div>\n\n    <div class=\"w-100 h-100 d-inline-block\" id=\"statisticGraph\"></div>\n\n    <CTable v-if=\"selectedPropertyDataType == 'number'\">\n      <CTableHead>\n        <CTableRow>\n          <CTableHeaderCell scope=\"col\">Measure</CTableHeaderCell>\n          <CTableHeaderCell scope=\"col\">Values</CTableHeaderCell>\n        </CTableRow>\n      </CTableHead>\n      <CTableBody>\n        <CTableRow>\n          <CTableHeaderCell scope=\"row\">Min</CTableHeaderCell>\n          <CTableDataCell>{{ table.min }}</CTableDataCell>\n        </CTableRow>\n        <CTableRow>\n          <CTableHeaderCell scope=\"row\">Max</CTableHeaderCell>\n          <CTableDataCell>{{ table.max }}</CTableDataCell>\n        </CTableRow>\n        <CTableRow>\n          <CTableHeaderCell scope=\"row\">Mean</CTableHeaderCell>\n          <CTableDataCell>{{ table.mean }}</CTableDataCell>\n        </CTableRow>\n        <CTableRow>\n          <CTableHeaderCell scope=\"row\">Median</CTableHeaderCell>\n          <CTableDataCell>{{ table.median }}</CTableDataCell>\n        </CTableRow>\n        <CTableRow>\n          <CTableHeaderCell scope=\"row\">Std</CTableHeaderCell>\n          <CTableDataCell>{{ table.std }}</CTableDataCell>\n        </CTableRow>\n        <CTableRow>\n          <CTableHeaderCell scope=\"row\">Skewness</CTableHeaderCell>\n          <CTableDataCell>{{ table.skewness }}</CTableDataCell>\n        </CTableRow>\n        <CTableRow>\n          <CTableHeaderCell scope=\"row\">Kurtosis</CTableHeaderCell>\n          <CTableDataCell>{{ table.kurtosis }}</CTableDataCell>\n        </CTableRow>\n        <CTableRow>\n          <CTableHeaderCell scope=\"row\">Count</CTableHeaderCell>\n          <CTableDataCell>{{ selectedSource.features.length }}</CTableDataCell>\n        </CTableRow>\n      </CTableBody>\n    </CTable>\n  </div>\n</template>\n\n<style></style>\n","import script from \"./StatisticsPanal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./StatisticsPanal.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup></script>\n\n<template>\n  <div>\n    <p>This panel is gooing to be developed.</p>\n    <p class=\"mt-1 d-grid gap-2\">\n      <button\n        class=\"btn btn-primary\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#digitalBorehole\"\n        aria-expanded=\"false\"\n        aria-controls=\"digitalBorehole\"\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"16\"\n          height=\"16\"\n          fill=\"currentColor\"\n          class=\"bi bi-arrows-expand\"\n          viewBox=\"0 0 16 16\"\n        >\n          <path\n            fill-rule=\"evenodd\"\n            d=\"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2M8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10\"\n          />\n        </svg>\n        Digital Borehole\n      </button>\n    </p>\n    <div class=\"collapse\" id=\"digitalBorehole\">\n      <p>\n        This feature should allow you to draw a point on the map and get a graph\n        with the temperature depending on the depth. The values are derived from\n        neighborhood relationships to existing data points.\n      </p>\n      <img\n        src=\"@/../public/digital_borehole_example.png\"\n        alt=\"Digital Borehole\"\n      />\n    </div>\n\n    <p class=\"mt-1 d-grid gap-2\">\n      <button\n        class=\"btn btn-primary\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#profile\"\n        aria-expanded=\"false\"\n        aria-controls=\"profile\"\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"16\"\n          height=\"16\"\n          fill=\"currentColor\"\n          class=\"bi bi-arrows-expand\"\n          viewBox=\"0 0 16 16\"\n        >\n          <path\n            fill-rule=\"evenodd\"\n            d=\"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2M8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10\"\n          />\n        </svg>\n        2D Profile\n      </button>\n    </p>\n    <div class=\"collapse\" id=\"profile\">\n      <p>\n        This feature allows you to draw a line on the map and visualize the\n        course of a selected attribute along the line. The values along the line\n        are derived from neighborhood relationships to existing data points.\n      </p>\n      <img src=\"@/../public/2D_profile.png\" alt=\"2D Profile\" width=\"100%\" />\n    </div>\n  </div>\n</template>\n\n<style></style>\n","import { render } from \"./AnalysisPanal.vue?vue&type=template&id=687ae8e4\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup>\n// import simplebar from \"simplebar-vue\";\n\nimport { defineEmits, defineProps } from \"vue\";\n\nimport {\n  COffcanvasHeader,\n  COffcanvasTitle,\n  CCloseButton,\n  COffcanvasBody,\n} from \"@coreui/bootstrap-vue\";\n\nimport SettingsPanel from \"./settings-panel/SettingsPanel.vue\";\nimport FilterPanal from \"./filter-panel/FilterPanal.vue\";\nimport StatisticsPanal from \"./statistics-panel/StatisticsPanal.vue\";\nimport AnalysisPanal from \"./analysis-panel/AnalysisPanal.vue\";\n\nimport { Map } from \"maplibre-gl\";\n\nconst props = defineProps({\n  title: String,\n  map: Map,\n});\n\nconst emit = defineEmits([\"collapse-event\", \"toggle-event\"]);\n</script>\n\n<template>\n  <COffcanvasHeader class=\"bg-primary\">\n    <COffcanvasTitle class=\"text-white\">{{ props.title }}</COffcanvasTitle>\n    <CCloseButton\n      class=\"text-reset text-primary\"\n      @click=\"emit('collapse-event'), emit('toggle-event')\"\n    />\n  </COffcanvasHeader>\n  <COffcanvasBody>\n    <KeepAlive>\n      <SettingsPanel v-if=\"props.title === 'Settings'\" :map=\"props.map\" />\n    </KeepAlive>\n    <KeepAlive>\n      <FilterPanal v-if=\"props.title === 'Filter'\" :map=\"props.map\" />\n    </KeepAlive>\n    <KeepAlive>\n      <StatisticsPanal v-if=\"props.title === 'Statistics'\" :map=\"props.map\" />\n    </KeepAlive>\n    <KeepAlive>\n      <AnalysisPanal v-if=\"props.title === 'Analysis'\" />\n    </KeepAlive>\n  </COffcanvasBody>\n</template>\n\n<style scoped></style>\n","import script from \"./LeftPanel.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LeftPanel.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<!-- Show popup containing infos of point (on click) -->\n<script setup>\nimport { defineProps, onMounted, ref, watch } from \"vue\";\n\nimport { Map, Popup } from \"maplibre-gl\";\n\nimport {\n  CTable,\n  CTableHead,\n  CTableBody,\n  CTableHeaderCell,\n  CTableRow,\n  CTableDataCell,\n} from \"@coreui/bootstrap-vue\";\n\nconst props = defineProps({ map: { type: Map, required: true } });\nconst map = ref(props.map);\n\nconst popupInfoContent = ref(null);\nconst hasInfoPopup = ref(false);\nconst infoProperties = ref({\n  id: null,\n  q: null,\n  q_uncertainty: null,\n  lithology: null,\n  lng: null,\n  lat: null,\n});\n\n/**\n *\n * @param {Object} feature\n */\nfunction setFeatureInfoPropies(feature) {\n  infoProperties.value.id = feature.id;\n  infoProperties.value.lng = feature.geometry.coordinates[0].toFixed(5);\n  infoProperties.value.lat = feature.geometry.coordinates[1].toFixed(5);\n  Object.keys(infoProperties.value).forEach((key) => {\n    if (feature.properties[key]) {\n      infoProperties.value[key] = feature.properties[key];\n    }\n  });\n}\n\n/**\n * @description\n */\nfunction togglehasInfoPopup() {\n  hasInfoPopup.value = !hasInfoPopup.value;\n}\n\nonMounted(() => {\n  popupInfoContent.value = document.getElementById(\"infoPopup\");\n});\n\nwatch(props, (newProps) => {\n  map.value = newProps.map;\n\n  // source: https://maplibre.org/maplibre-gl-js/docs/examples/popup-on-click/\n  map.value.on(\"click\", \"sites\", (e) => {\n    const coordinates = e.features[0].geometry.coordinates.slice();\n    setFeatureInfoPropies(e.features[0]);\n\n    // Ensure that if the map is zoomed out such that multiple\n    // copies of the feature are visible, the popup appears\n    // over the copy being pointed to.\n    while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\n      coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;\n    }\n\n    const popup = new Popup()\n      .setLngLat(coordinates)\n      .setDOMContent(popupInfoContent.value);\n    popup.addTo(map.value);\n    togglehasInfoPopup();\n\n    popup.on(\"close\", () => {\n      togglehasInfoPopup();\n    });\n  });\n\n  // Change the cursor to a pointer when the mouse is over the places layer.\n  map.value.on(\"mouseenter\", \"sites\", () => {\n    map.value.getCanvas().style.cursor = \"pointer\";\n  });\n\n  // Change it back to a pointer when it leaves.\n  map.value.on(\"mouseleave\", \"sites\", () => {\n    map.value.getCanvas().style.cursor = \"\";\n  });\n});\n</script>\n\n<template>\n  <KeepAlive>\n    <div class=\"infoPopup\" id=\"infoPopup\">\n      <h2>{{ infoProperties.id }}</h2>\n      <CTable v-if=\"hasInfoPopup\">\n        <CTableHead>\n          <CTableRow>\n            <CTableHeaderCell scope=\"col\">Property</CTableHeaderCell>\n            <CTableHeaderCell scope=\"col\">Value</CTableHeaderCell>\n          </CTableRow>\n        </CTableHead>\n        <CTableBody>\n          <CTableRow v-for=\"key in Object.keys(infoProperties)\" :key=\"key\">\n            <CTableHeaderCell scope=\"row\">{{ key }}</CTableHeaderCell>\n            <CTableDataCell>{{ infoProperties[key] }}</CTableDataCell>\n          </CTableRow>\n        </CTableBody>\n      </CTable>\n    </div>\n  </KeepAlive>\n</template>\n\n<style scoped></style>\n","import script from \"./InfoPopup.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./InfoPopup.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<!-- Map Legend -->\n<script setup>\nimport { ref } from \"vue\";\nimport { useLegendStore } from \"@/store/legend\";\n\nimport {\n  CButton,\n  CCollapse,\n  CCard,\n  CCardBody,\n  CContainer,\n  CRow,\n  CCol,\n} from \"@coreui/bootstrap-vue\";\n\nconst legend = useLegendStore();\n\nconst visible = ref(false);\n</script>\n\n<template>\n  <div class=\"legend-container\" v-if=\"legend.legend\">\n    <CContainer>\n      <CButton\n        class=\"position-absolute top-0 end-0 translate-middle btn btn-sm btn-primary\"\n        color=\"primary\"\n        @click=\"visible = !visible\"\n        >Legend</CButton\n      >\n      <CCollapse :visible=\"visible\">\n        <CCard class=\"mt-3\">\n          <CCardBody>\n            <CRow\n              class=\"align-items-start\"\n              v-for=\"entry in legend.legend\"\n              :key=\"entry.id\"\n            >\n              <CCol class=\"align-self-start\" xs=\"2\">\n                <CButton\n                  :style=\"{\n                    'background-color': entry.colorHEX,\n                  }\"\n                  @click=\"visible = !visible\"\n                ></CButton>\n              </CCol>\n\n              <CCol class=\"d-flex align-self-end\" xs=\"10\">\n                {{ entry.text }}\n              </CCol>\n            </CRow>\n          </CCardBody>\n        </CCard>\n      </CCollapse>\n    </CContainer>\n  </div>\n</template>\n\n<style scoped>\n.legend-container {\n  position: absolute;\n  bottom: 4rem;\n  right: 0.5rem;\n  z-index: 1;\n}\n</style>\n","import script from \"./MapLegend.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MapLegend.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MapLegend.vue?vue&type=style&index=0&id=1575c570&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1575c570\"]])\n\nexport default __exports__","<script setup>\n// vue\nimport { onMounted, onUnmounted, markRaw, ref } from \"vue\";\n\n// map viewer\nimport { Map } from \"maplibre-gl\";\n\n// components\n// import AttributeTable from \"./common/AttributeTable.vue\";\nimport {\n  CButton,\n  CButtonGroup,\n  COffcanvas,\n  CRow,\n  CSpinner,\n} from \"@coreui/bootstrap-vue\";\nimport CursorCoordinates from \"./map/CursorCoordinates.vue\";\nimport LeftPanel from \"./left-panel/LeftPanel.vue\";\nimport InfoPopup from \"./map/InfoPopup.vue\";\nimport MapLegend from \"./map/MapLegend.vue\";\n\nimport { useMeasurementStore } from \"@/store/measurements\";\nimport { useMapControlsStore } from \"@/store/mapControls\";\nimport { useSettingsStore } from \"@/store/settings\";\nimport { useBaseMapsStore } from \"@/store/baseMaps\";\n\n// get access to html element with dataset attributes\nconst el = document.querySelector(\"#whfd-mapping\");\n\n// pass/write dataset attributes to config object\nconst configMapApp = ref({\n  dataURL: el.dataset.dataUrl,\n  schemaURL: el.dataset.schemaUrl,\n});\n\nconsole.log(\"inside mapApp dataset pass data from html to js\");\nconsole.log(configMapApp);\n\nconst measurements = useMeasurementStore();\nmeasurements.fetchAPIDataSchema(configMapApp.value.schemaURL);\n\n// import dataURL from \"@/assets/data/heatflow_sample_data.geojson\";\n// import schemaURL from \"@/assets/data/api_schema.json\";\nconst mapControls = useMapControlsStore();\nconst settings = useSettingsStore();\nconst bm = useBaseMapsStore();\n\nconst mapContainer = ref();\nconst map = ref();\nconst navbarTitles = ref([\"Settings\", \"Filter\", \"Statistics\", \"Analysis\"]); // TODO: change to object and add key with bootstrap related icon class https://icons.getbootstrap.com/\nconst panelTitle = ref(\"\");\n\nconst isCollapsed = ref(true);\nconst visibleScrolling = ref(false);\n\nconst setIsCollapsed = () => (isCollapsed.value = !isCollapsed.value);\n\n/**\n * @description get title of corresponding button and set it as title of sidepanel\n * @param {*} event\n */\nfunction setPanelTitle(event) {\n  panelTitle.value = event.srcElement.innerHTML;\n}\n\n/**\n * @description create object for base map sources\n */\nfunction setBaseMapsSource() {\n  let bmSourceObject = {};\n\n  bm.baseMaps.forEach((baseMapSource) => {\n    bmSourceObject[baseMapSource.id] = {\n      type: \"raster\",\n      tiles: [baseMapSource.tiles],\n      tileSize: 256,\n      attribution: baseMapSource.attribution,\n      minzoom: 0,\n      maxzoom: 22,\n    };\n  });\n  return bmSourceObject;\n}\n\n/**\n * @description create object for base map layers\n */\nfunction setBaseMapsLayer() {\n  let layerObjects = [];\n\n  bm.baseMaps.forEach((baseMapLayer, ix) => {\n    let layerObject = {\n      id: baseMapLayer.id,\n      type: \"raster\",\n      source: baseMapLayer.id,\n    };\n    if (ix == 0) {\n      settings.activeBaseLayer = baseMapLayer.id;\n      // first object in maps.json will be default base map\n      layerObject.layout = {\n        visibility: \"visible\",\n      };\n    } else {\n      // others are already added but not visible\n      layerObject.layout = {\n        visibility: \"none\",\n      };\n    }\n    layerObjects.push(layerObject);\n  });\n  return layerObjects;\n}\n\nonMounted(() => {\n  // instantiate map object\n  map.value = markRaw(\n    new Map({\n      mapId: \"map_1\",\n      container: mapContainer.value,\n      attributionControl: true,\n      style: {\n        version: 8,\n        sources: setBaseMapsSource(),\n        layers: setBaseMapsLayer(),\n        glyphs: \"https://demotiles.maplibre.org/font/{fontstack}/{range}.pbf\", // https://maplibre.org/maplibre-gl-js-docs/style-spec/glyphs/\n      },\n    })\n  );\n\n  map.value.once(\"load\", async () => {\n    // add controls\n    map.value.addControl(mapControls.scale, \"bottom-right\");\n    map.value.addControl(mapControls.fullscreen, \"top-right\");\n    map.value.addControl(mapControls.navigation, \"top-right\");\n    map.value.addControl(mapControls.mapboxDraw);\n\n    // add data source\n    try {\n      await measurements.fetchAPIData(configMapApp.value.dataURL);\n    } catch (error) {\n      console.log(error);\n    }\n\n    // measurements.geojson = dataURL;\n\n    map.value.addSource(\"sites\", {\n      type: \"geojson\",\n      data: measurements.geojson,\n      // data: sites.value,\n    });\n\n    // add data layer\n    map.value.addLayer({\n      id: \"sites\",\n      type: \"circle\",\n      source: \"sites\",\n      paint: {\n        \"circle-color\": settings.circleColor,\n        \"circle-radius\": settings.circleRadius,\n        \"circle-stroke-width\": 0.5,\n        \"circle-stroke-color\": \"#a1dab4\",\n      },\n      layout: {\n        visibility: \"visible\",\n      },\n    });\n  });\n}),\n  onUnmounted(() => {\n    map.value?.remove();\n  });\n\nfunction toggleVisibleScrolling() {\n  visibleScrolling.value = !visibleScrolling.value;\n}\n</script>\n\n<template>\n  <div class=\"map-wrap\">\n    <CRow class=\"align-items-center\">\n      <CButton v-if=\"measurements.isDataLoading\">\n        <CSpinner component=\"span\" size=\"sm\" aria-hidden=\"true\" />\n        Loading Data...\n      </CButton>\n    </CRow>\n    <div class=\"map\" ref=\"mapContainer\" @mousemove=\"updateLatLng\">\n      <InfoPopup :map=\"map\" />\n      <MapLegend />\n\n      <!-- Navigation buttons -->\n      <div class=\"fixed-bottom\">\n        <CButtonGroup role=\"group\" aria-label=\"Basic example\">\n          <CButton\n            color=\"primary\"\n            v-for=\"title in navbarTitles\"\n            :key=\"title\"\n            @click=\"\n              isCollapsed ? setPanelTitle($event) : 0,\n                // toggleSidebar(),\n                setIsCollapsed(),\n                toggleVisibleScrolling()\n            \"\n            type=\"button\"\n            class=\"btn btn-primary\"\n          >\n            {{ title }}\n          </CButton>\n        </CButtonGroup>\n\n        <COffcanvas\n          :backdrop=\"false\"\n          placement=\"start\"\n          scroll\n          :visible=\"visibleScrolling\"\n          @hide=\"\n            () => {\n              visibleScrolling = !visibleScrolling;\n            }\n          \"\n        >\n          <LeftPanel\n            :title=\"panelTitle\"\n            :map=\"map\"\n            @collapse-event=\"setIsCollapsed()\"\n            @toggle-event=\"toggleVisibleScrolling()\"\n          />\n        </COffcanvas>\n\n        <div class=\"cursor-div\">\n          <CursorCoordinates :map=\"map\" />\n        </div>\n      </div>\n\n      <!-- <div class=\"trigger-data-table\">\n        <button\n          type=\"button\"\n          class=\"btn-trigger-data-table btn btn-primary\"\n          @click=\"\n            toggleDataTable();\n            printHeatFlowSchema();\n          \"\n        >\n          Show Data Table\n        </button>\n      </div> -->\n    </div>\n  </div>\n  <!-- <AttributeTable\n    v-if=\"showsDataTable\"\n    @toggle-dt-event=\"toggleDataTable()\"\n    :map=\"map\"\n  /> -->\n</template>\n\n<style scoped>\n@import \"~maplibre-gl/dist/maplibre-gl.css\";\n@import \"@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css\";\n\n.map-wrap {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\n.map {\n  /* position: relative; */\n  width: 100%;\n  height: 100%;\n}\n\n.fixed-bottom {\n  position: absolute;\n  width: fit-content;\n  height: fit-content;\n  margin: 0 auto;\n  z-index: 1;\n}\n\n.cursor-position {\n  background: rgba(255, 255, 255, 0.5);\n  z-index: 1;\n}\n</style>\n","import script from \"./MapApp.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MapApp.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MapApp.vue?vue&type=style&index=0&id=168a7650&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-168a7650\"]])\n\nexport default __exports__","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=9a178a4e&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","// import \"@babel/polyfill\";\n// import \"mutationobserver-shim\";\n\nimport { createApp } from \"vue\";\nimport App from \"./App.vue\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"bootstrap/dist/js/bootstrap.js\";\n\nimport { createPinia } from \"pinia\";\n\nconst app = createApp(App).use(createPinia());\n\napp.mount(document.getElementsByClassName(\"whfd-mapping\")[0]);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdD = function () {\n\tthrow new Error('define cannot be used indirect');\n};","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwhfd_mapping\"] = self[\"webpackChunkwhfd_mapping\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(3737); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["props","__props","map","ref","lat","lng","watch","newProps","value","on","e","lngLat","wrap","toFixed","__exports__","useSettingsStore","defineStore","activeBaseLayer","circleRadius","circleColor","useBaseMapsStore","baseMaps","id","title","cardImage","tiles","attribution","settings","bm","changeBaseLayer","oldBaseLayer","newBaseLayer","setLayoutProperty","useMeasurementStore","geojson","dataSchema","selectableProperties","isDataLoading","isSchemaLoading","async","fetchAPIDataSchema","url","console","log","parser","SwaggerParser","dereference","then","apiSchema","components","schemas","Measurement","setSelectableProperties","fetchPagedAPIData","data","axios","response","results","forEach","entry","push","next","catch","err","collectPntAttributes","siteObject","featKeys","Object","keys","coord","property","key","location","point","writePntFeature","pntAttributes","feature","type","geometry","properties","gjv","convertAPIData2GeoJSON","featuresArray","featureCollection","features","fetchAPIData","isPropertySelectable","isSelectable","enum","minimum","maximum","createVueMultiselectOption","propertyName","propertyObj","optionsObject","propertiesKey","selection","useLegendStore","legend","setLegendObject","classes","colors","legendObj","i","length","text","colorHEX","setLegendToNull","measurements","selectedProperty","selectedPropertyDataType","legalSteps","colorSteps","colorPaletteOptions","setColorPaletteOptions","selectedColorPalette","classificationTypes","name","desc","src","selectedClassificationType","setCircleRadius","setPaintProperty","parseInt","setCircleColor","getPaintProperty","schemaGroup","colorbrewer","schema","setPropertyDataType","getEnumClasses","enumProperty","oneOf","enumSchema","enumClass","getJenksNaturalBreaks","geoJson","steps","values","propertyValuesToArray","filter","Boolean","classifier","geostats","breaks","getJenks","getQuantilBreaks","quantileSeq","unshift","Math","min","apply","max","getNumberBreaks","getSource","_data","generateEnumPaintProperty","paintProperty","index","generateContinuousPaintProperty","k","dataDrivenColorisation","undefined","error","newColorSteps","heatFlowSchema","useFilterStore","filters","attributeFilter","locationFilter","maxAttributeFilter","reachedLimit","getNewFilterObject","selectedPropertyType","selectedValues","expression","addFilter","filterId","category","nrAttributeFilter","removeFilterElement","writeFilterExpression","entries","applyFilterToMap","mapObject","setFilter","getUniqueFeatures","comparatorProperty","uniqueIds","Set","uniqueFeatures","has","add","getFilteredFeatures","filterExpression","queriedFeatures","querySourceFeatures","sourceLayer","filterElement","valueOptions","setSelectedPropertyType","resetSelectedValues","resetFilterExpression","getRange","floor","ceil","bounds","setValueOptions","writeEnumFilter","writeContinuousFilter","minValue","maxValue","setFilterExpression","useMapControlsStore","mapboxDraw","MapboxDraw","displayControlsDefault","controls","scale","ScaleControl","fullscreen","FullscreenControl","navigation","NavigationControl","mapControls","drawPolygon","changeMode","deletePolygon","trash","writeLocationFilterExpression","geoJSONObj","downloadFeatures","filename","blob","Blob","JSON","stringify","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","addFilterElement","filterID","Date","now","options","selectedSourceTitle","selectedSource","table","mean","std","median","skewness","kurtosis","setDataSource","filteredFeatures","plotGraph","dataArr","getPropertyValues","trace","x","newPlot","setMin","setMax","setMean","setStd","setMedian","setSkewness","stats","Statistics","setKurtosis","setTableValues","printOut","newValue","_hoisted_1","_createElementBlock","_hoisted_6","script","render","emit","__emit","popupInfoContent","hasInfoPopup","infoProperties","q","q_uncertainty","lithology","setFeatureInfoPropies","coordinates","togglehasInfoPopup","onMounted","getElementById","slice","abs","popup","Popup","setLngLat","setDOMContent","addTo","getCanvas","style","cursor","visible","el","querySelector","configMapApp","dataURL","dataset","dataUrl","schemaURL","schemaUrl","mapContainer","navbarTitles","panelTitle","isCollapsed","visibleScrolling","setIsCollapsed","setPanelTitle","event","srcElement","innerHTML","setBaseMapsSource","bmSourceObject","baseMapSource","tileSize","minzoom","maxzoom","setBaseMapsLayer","layerObjects","baseMapLayer","ix","layerObject","source","layout","visibility","toggleVisibleScrolling","markRaw","Map","mapId","container","attributionControl","version","sources","layers","glyphs","once","addControl","addSource","addLayer","paint","onUnmounted","remove","app","createApp","App","use","createPinia","mount","getElementsByClassName","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","call","m","amdD","Error","amdO","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","window","hmd","create","children","set","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}