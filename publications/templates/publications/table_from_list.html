{% extends "main/base.html" %}
{% load widget_tweaks %}
{% load static %}
{% load custom_tags %}

{% block head %}
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css">

{% endblock head %}

{% block content %}

  {% if page %}
  <div class="jumbotron rounded-0">
    <div class='container rounded'>
      <h1 class="display-4">{{ page.heading}}</h1>
      {% if page.sub_heading %}
      <p class="lead">{{ page.sub_heading}}</p>
      {% endif %}
      <hr class="my-4">
      {% if page.content %}
          {{ page.content|safe }}
      {% endif %}
    </div>
  </div>
  {% endif %}

  <div class='container-fluid table-responsive pt-2' style="height: 50%;">
    <table id="dataTable" class="table table-hover table-striped linked-table w-100" >
      <thead class="thead-dark">
      </thead>
    </table>
  </div>
{% endblock content%}

{% block scripts %}
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js"></script>
<script src='https://cdn.rawgit.com/larsgw/citation.js/archive/citation.js/citation-0.4.0-9.js'></script>

<script>  
  var link_url = "{% url object_url %}"
  var table_options = {{ table_options|safe }}
  {% if complex_headers %}
    var complex_headers = {{complex_headers|safe}}
  {% endif %}
  
</script>

<script>
  $(document).ready(function(){
    var table = table_from_values_list({{dataset|safe}},{{bibtex_headers|safe}})
    if (complex_headers) {
      add_complex_header(complex_headers)
    }
  });
</script>

<script src="{% static 'main/js/table.js' %}"></script>


{% endblock scripts %}