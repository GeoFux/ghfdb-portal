{% load static sekizai_tags %}

<div class='table-responsive'>
    <table id="{{table.id}}" class="table table-hover table-striped responsive w-100" >
        <thead class="thead-dark">
        </thead>
    </table>
</div>

{% addtoblock "css" %}
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/dt-1.10.21/r-2.2.5/datatables.min.css"/>
{% endaddtoblock %}

{% addtoblock "js" %}
  <script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.10.21/r-2.2.5/datatables.min.js"></script>

  {% if "bibtex" in table.columns %}
    <script src='https://cdn.rawgit.com/larsgw/citation.js/archive/citation.js/citation-0.4.0-9.js'></script>   
  {% endif %}
  <script src="{% static 'tables/js/table.js' %}"></script>

  <script>
  {% if table.link %}var link = "{{table.link}}"{% endif %}
  {% if table.options %}var table_options = {{ table.options|safe }}{% endif %}

    {% comment %} console.log({{table.data}}) {% endcomment %}
  

  $(document).ready(function(){
    {% if 'bibtex' in table.columns %}
        var {{table.id}} = create_table_from_bibtex({{table|safe}})
    {% else %}
        var {{table.id}} = create_table({{table.data}})
    {% endif %}

    });
  </script>
{% endaddtoblock %}