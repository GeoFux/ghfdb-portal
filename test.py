import bibtexparser as bib
import bibtexparser.customization as custom
import re
from itertools import repeat 

table = [['new', '<ins style="backgro...002</ins>', '<ins style="backgro...389</ins>', '<ins style="backgro...556</ins>', '<ins style="backgro....25</ins>', '<ins style="backgro...471</ins>', '<ins style="backgro...019</ins>', '<ins style="backgro...002</ins>'], ['new', '<ins style="backgro...002</ins>', '<ins style="backgro...389</ins>', '<ins style="backgro...556</ins>', '<ins style="backgro....67</ins>', '<ins style="backgro...392</ins>', '<ins style="backgro...019</ins>', '<ins style="backgro...002</ins>'], ['new', '<ins style="backgro...002</ins>', '<ins style="backgro...389</ins>', '<ins style="backgro...556</ins>', '<ins style="backgro....02</ins>', '<ins style="backgro...767</ins>', '<ins style="backgro...019</ins>', '<ins style="backgro...002</ins>'], ['new', '<ins style="backgro...002</ins>', '<ins style="backgro...389</ins>', '<ins style="backgro...556</ins>', '<ins style="backgro....11</ins>', '<ins style="backgro...404</ins>', '<ins style="backgro...019</ins>', '<ins style="backgro...002</ins>'], ['new', '<ins style="backgro...002</ins>', '<ins style="backgro...389</ins>', '<ins style="backgro...556</ins>', '<ins style="backgro....41</ins>', '<ins style="backgro...123</ins>', '<ins style="backgro...019</ins>', '<ins style="backgro...002</ins>'], ['new', '<ins style="backgro...002</ins>', '<ins style="backgro...389</ins>', '<ins style="backgro...556</ins>', '<ins style="backgro....87</ins>', '<ins style="backgro...961</ins>', '<ins style="backgro...019</ins>', '<ins style="backgro...002</ins>'], ['new', '<ins style="backgro...002</ins>', '<ins style="backgro...389</ins>', '<ins style="backgro...556</ins>', '<ins style="backgro....27</ins>', '<ins style="backgro...587</ins>', '<ins style="backgro...019</ins>', '<ins style="backgro...002</ins>'], ['new', '<ins style="backgro...002</ins>', '<ins style="backgro...389</ins>', '<ins style="backgro...556</ins>', '<ins style="backgro....64</ins>', '<ins style="backgro...788</ins>', '<ins style="backgro...019</ins>', '<ins style="backgro...002</ins>'], ['new', '<ins style="backgro...002</ins>', '<ins style="backgro...389</ins>', '<ins style="backgro...556</ins>', '<ins style="backgro....85</ins>', '<ins style="backgro...371</ins>', '<ins style="backgro...019</ins>', '<ins style="backgro...002</ins>'], ['new', '<ins style="backgro...002</ins>', '<ins style="backgro...389</ins>', '<ins style="backgro...556</ins>', '<ins style="backgro....91</ins>', '<ins style="backgro...123</ins>', '<ins style="backgro...019</ins>', '<ins style="backgro...002</ins>'], ['new', '<ins style="backgro...002</ins>', '<ins style="backgro...389</ins>', '<ins style="backgro...556</ins>', '<ins style="backgro....97</ins>', '<ins style="backgro...298</ins>', '<ins style="backgro...019</ins>', '<ins style="backgro...002</ins>'], ['new', '<ins style="backgro...002</ins>', '<ins style="backgro...389</ins>', '<ins style="backgro...556</ins>', '<ins style="backgro....28</ins>', '<ins style="backgro...287</ins>', '<ins style="backgro...019</ins>', '<ins style="backgro...002</ins>'], ['new', '<ins style="backgro...002</ins>', '<ins style="backgro...389</ins>', '<ins style="backgro...556</ins>', '<ins style="backgro....64</ins>', '<ins style="backgro...315</ins>', '<ins style="backgro...019</ins>', '<ins style="backgro...002</ins>'], ['new', '<ins style="backgro...002</ins>', '<ins style="backgro...389</ins>', '<ins style="backgro...556</ins>', '<ins style="backgro....82</ins>', '<ins style="backgro...051</ins>', '<ins style="backgro...019</ins>', '<ins style="backgro...002</ins>'],]

headers = ['Site name', 'Latitude', 'Longitude', 'Value', 'Depth', 'Reference', 'Site name']

headers.insert(0,'_')
# y = {key:val for key, val in zip(table,repeat(headers))}
# out = []
# for row in table:
#     out.append({key:val for key,val in zip(headers,row)})

table = [{key:val for key,val in zip(headers.insert(0,'_'),row)} for row in table]


print(table)